

## 网易云信

http://dev.yunxin.163.com/docs/product/IM%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF/%E6%96%B0%E6%89%8B%E6%8E%A5%E5%85%A5%E6%8C%87%E5%8D%97

### 网易云信功能表:

| 支持客户端     | 包括iOS、Android、Windows、Linux、Web等                      |
| -------------- | ------------------------------------------------------------ |
| 收发消息       | 支持文字、语音、图片、表情、视频、地理位置、文件             |
| 自定义消息     | 支持消息类型自定义，如：发送骰子、红包、阅后即焚等特殊消息   |
| 离线消息       | 用户离线重新上线后收到最近30天的未读消息                     |
| 历史消息       | 云端存储最近的历史消息（免费版30天，专业版1年，专业版可升级拓展） |
| 漫游消息       | 用户切换到任何设备都可以读取到最近的历史消息                 |
| 消息抄送       | 发送的消息内容实时抄送到指定服务器                           |
| 存储空间       | 基础配置存储消息内容（免费版1T，专业版1T，专业版可以升级拓展） |
| 存储访问频次   | 不限制访问频次                                               |
| 文件多重备份   | 云端文件3重备份                                              |
| 网络连接状态   | 开发者可以实时监听网络状态                                   |
| 消息推送提醒   | 系统通知栏消息提醒                                           |
| 自定义推送内容 | 系统通知栏提醒内容自定义                                     |
| 黑名单设置     | 好友黑名单设置                                               |
| 消息转发       | 可以将接收到的消息转发给其他用户                             |
| @功能          | 群组中@某人，提醒特别关注消息                                |
| 已读回执       | 用户发送消息，获取对方是否已读状态                           |
| 多终端已读同步 | 同个产品多终端情况下，同步消息已读未读的状态                 |
| 消息撤回       | 用户发出的消息，可以在一段时间内将消息撤回                   |
| 正在输入       | 获取对方输入状态的提醒                                       |
| 免打扰模式     | 针对整个应用设置不提醒状态                                   |
| 图片压缩       | 自定义图片压缩比例，保障移动端传输节省流量                   |
| 高清语音消息   | 语音消息降噪处理                                             |
| 文件上传下载   | 可以用来发送接收文件                                         |
| 好友关系托管   | 可以托管好友关系，用户自主选用                               |
| 群最高人数     | 一个群的人数上限默认为200人，专业版可升级拓展至500人         |
| 创建群数量     | 免费版一个用户可创建50个群组；专业版默认为100个，并可升级拓展至2000个 |
| 群管理权限     | 群主、管理员、加人、踢人、修改权限                           |
| 自定义群标签   | 自定义群标签，开发者自主实现对应逻辑                         |
| UI组件         | 免费提供demo源码，开发者可以利用源码快速开发                 |
| 群消息免打扰   | 针对一个群可以设置不提醒模式                                 |



### 账号集成：

创建账号---token由服务器指定，返回token给客户使用，token要跟内部唯一识别号UUID不一致，账号只用于IM系统的鉴权，开发者可自行选择是否与其他服务绑定账号

登录 使用账号密码进行登录

消息令牌token

### 基础消息功能：

#### 1.会话消息：

| **会话内消息类型** | **备注**                                                     |
| :----------------- | :----------------------------------------------------------- |
| 文本消息           | 消息内容为普通文本                                           |
| 图片消息           | 消息内容为图片URL地址、尺寸、图片大小等信息                  |
| 语音消息           | 消息内容为语音文件的URL地址、时长、大小、格式等信息          |
| 视频消息           | 消息内容为视频文件的URL地址、时长、大小、格式等信息          |
| 文件消息           | 消息内容为文件的URL地址、大小、格式等信息，格式不限          |
| 地理位置消息       | 消息内容为地理位置标题、经度、纬度信息                       |
| 群事件通知消息     | 主要用于群事件的通知，由服务器下发，客户端无法发送群事件通知消息。 通知类消息有在线、离线、漫游机制；没有通知栏提醒 |
| 提示消息           | 又叫做 Tip 消息，没有推送和通知栏提醒，主要用于会话内的通知提醒，例如进入会话时出现的欢迎消息，或是会话过程中命中敏感词后的提示消息等场景。 |
| 自定义消息         | 开发者自定义的消息类型，例如红包消息、石头剪子布等形式的消息 |

#### 2.系统通知消息：

| **类型**       | **消息存储** | **未读计数** | **离线消息** | **漫游消息** | **消息推送** |
| :------------- | :----------- | :----------- | :----------- | :----------- | :----------- |
| 内置系统通知   | 有           | 有           | 有           | 没有         | 没有         |
| 自定义系统通知 | 没有         | 没有         | 有           | 没有         | 有           |

#### 3.消息功能

| **消息功能** | **说明**                                                     |
| :----------: | :----------------------------------------------------------- |
|   离线消息   | 不在线时其他人发来的消息。在下次登录时，会自动将离线期间暂存的离线消息自动下发到 客户端SDK。 点对点场景下发 最近 30 天内的最新的 5000 条离线消息，且每个会话最多 100 条最新的离线消息；群聊场景会话下发最近30天内的离线消息，且每个群聊会话最多下发 100 条最新的离线消息。 |
|   漫游消息   | 在新设备(或卸载重装)登录时，服务器记录的漫游消息将自动同步到客户端SDK。漫游 7 天内最近 100 个会话，每个会话最近的 100 条消息 |
|   多端同步   | 同账号多客户端同时在线时，其中一端发出的消息实时下发到其他端 |
|   历史消息   | 支持本地历史消息和云端历史消息。标准版IM可获取到最近1年的云端历史消息，最多支持扩展至3年(增值功能) |
|   消息撤回   | 撤回投递成功的消息，默认撤回 2 分钟内的消息，可撤回的时长可在用户控制台进行配置。撤回操作仅支持单聊和群聊消息，不支持聊天室消息的撤回 |
|   已读回执   | 查看点对点或群聊会话中对方的消息已读未读状态                 |
|   消息转发   | 将消息转发给其他用户或群组                                   |
|    @某人     | 通过消息扩展字段实现。当发送群消息@某人的时候，可以通过扩展字段带上被@的帐号列表发送出去；群成员收到群消息时，查看扩展字段的@帐号列表里有没有自己，如果有，则界面上做被@的提醒。 |
|   正在输入   | 通过自定义系统通知实现，可参见：[发送自定义系统通知](http://dev.yunxin.163.com/docs/product/IM即时通讯/SDK开发集成/Android开发集成/系统通知?#自定义系统通知) |



### 群组功能：

| **功能**         | **普通群**                                                   | **高级群**                                                   |
| :--------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| 群容量           | IM 专业版 200人/群，最大可扩展至 500 人/群(增值功能)         | IM 专业版 200人/群，最大可扩展至 500 人/群(增值功能)         |
| 创建             | 创建时指定群组类型                                           | 创建时指定群组类型                                           |
| 群资料属性       | 群名，群头像，群简介，群公告，群扩展字段                     | 群名，群头像，群简介，群公告，群扩展字段， 申请加入群组的验证模式，群邀请模式，群被邀请模式， 群资料修改模式，群资料扩展字段修改模式 |
| 邀请入群         | 所有群成员都可邀请其他用户进群，无法配置                     | 支持配置：仅管理员可邀请 、 所有人可邀请                     |
| 被邀请人同意模式 | 不需要被邀请人同意，无法配置                                 | 支持配置： 需要被邀请人同意 不需要被邀请人同意               |
| 申请入群         | 不支持                                                       | 支持                                                         |
| 入群验证         | 不需要验证，无法配置                                         | 支持配置：需要管理员同意、不需要管理员同意、不允许任何人加入 |
| 群成员类型       | 群主、普通成员                                               | 群主、管理员、普通成员                                       |
| 管理员设置       | 不支持设置管理员                                             | 群主可以增减管理员                                           |
| 群组资料修改权限 | 所有人可修改                                                 | 支持配置： 仅管理员可修改、所有人可修改                      |
| 修改群成员昵称   | 不支持                                                       | 群主可以修改所有人的群昵称。 管理员只能修改普通群成员的群昵称。 |
| 修改自己的群昵称 | 不支持                                                       | 支持                                                         |
| 消息类型支持     | 同基础消息类型                                               | 同基础消息类型                                               |
| 消息提醒         | 接收提醒、不接收提醒                                         | 接收提醒、只接收管理员消息提醒、不接收提醒                   |
| 历史消息         | 支持云端历史消息，标准版IM可获取到最近 1 年的历史记录； 最多支持扩展至 3 年(增值功能) | 支持云端历史消息，标准版IM可获取到最近 1 年的历史记录； 最多支持扩展至 3 年(增值功能) |
| 离线消息         | 每个群聊会话最多下发 100 条离线消息                          | 每个群聊会话最多下发 100 条离线消息                          |
| 消息漫游         | 自动漫游 7 天内、每个会话最近的 100 条消息                   | 自动漫游7天内、每个会话最近的 100 条消息                     |
| 指定成员强制推送 | 支持                                                         | 支持                                                         |
| 群消息已读回执   | 支持，仅适用于群容量 100 以内的群                            | 支持，仅适用于群容量 100 以内的群                            |
| 踢人             | 仅群主可以踢人                                               | 群主和管理员可以踢人，且管理员不能踢群主和其他管理员         |
| 主动退群         | 普通群所有人都可以退群； 若群主退群，该群没有群主            | 除群主外，其他用户均可以主动退群。 群主需先将群转让给其他群成员才可以进行退群操作 |
| 禁言             | 不支持                                                       | 管理员对普通成员禁言、解除禁言                               |
| 转让群           | 不支持                                                       | 群主可以将群的拥有者权限转给群内的其他成员，转移后， 被转让者变为新的群主，原群主变为普通成员。 群主还可以选择在转让的同时，直接退出该群。 |
| 解散群           | 创建者可以解散，若创建者离开之后群里的其他成员无法解散群组   | 群主可以解散群                                               |

### 聊天室功能：

| **功能**                 | **功能描述**                                                 |
| :----------------------- | :----------------------------------------------------------- |
| 聊天室容量               | 支持聊天人数无上限                                           |
| 新建聊天室               | 新建一个新的聊天室，目前仅支持从服务端创建                   |
| 查询聊天室信息           | 包括创建者、在线人数、名称、公告、直播地址、扩展字段、是否发送更新通知时间、通知事件扩展字段 |
| 更新聊天室信息           | 包括创建者、在线人数、名称、公告、直播地址、扩展字段、是否发送更新通知时间、通知事件扩展字段 |
| 修改聊天室开/关状态      | 修改聊天室开/关闭状态，目前仅支持从服务端修改                |
| 聊天室消息类型           | 支持文本、图片、语音、视频、文件、地理位置、通知消息、提示消息、自定义 |
| 聊天室消息历史           | 可查询最近10天的聊天室历史记录，发消息时可设置是否存云端历史记录 |
| 聊天室角色               | 聊天室角色分为固定成员和非固定成员两大类。 固定成员包括创建者、管理员、普通成员，非固定成员包括普通游客和匿名游客 |
| 聊天室黑名单             | 被拉黑后，将无法再进入聊天室                                 |
| 聊天室禁言               | 禁言用户可以在聊天室内，但无法发送消息                       |
| 聊天室临时禁言           | 聊天室支持设置临时禁言时长，禁言时长时间到了，自动取消禁言。 |
| 聊天室全员禁言           | 设置聊天室整体禁言状态，仅创建者和管理员能发言               |
| 踢出聊天室               | 仅管理员可以踢，如目标是管理员仅创建者可以踢                 |
| 修改自己的聊天室成员信息 | 目前只支持聊天室昵称，头像和扩展字段的更新                   |
| 同时进入多个聊天室       | 支持统一帐号同时进入多个聊天室，会建立多个连接               |
| 多端同时进入一个聊天室   | 支持同一帐号在多端同时进入同一个聊天室                       |
| 聊天室机器人             | 往聊天室内批量添加、删除机器人，每次最多 100 个帐号          |
| TopN 指标查询            | 按小时/天查询聊天室进入人数、活跃人数、消息量的 TopN 数据    |
| 聊天室队列               | 针对直播连麦场景使用                                         |



| **角色** | **角色描述**                                                 |
| :------- | :----------------------------------------------------------- |
| 创建者   | 拥有最高权限，包括设置管理员、拉黑、禁言、踢人、设置普通成员 |
| 管理员   | 管理员具有拉黑、禁言、踢人、设置普通成员权限                 |
| 普通成员 | 普通成员主要区别于游客，即使离开聊天室当前不在线，也可以作为聊天室成员被获取到 |
| 普通游客 | 普通游客是以登录状态进入聊天室内的用户，且未被设置为固定成员 |
| 匿名游客 | 匿名游客在无需登录的情况下即可进入聊天室，相比于普通游客，匿名游客不支持发消息、被禁言、被拉黑、被设置为管理员/普通成员等操作 |

### 消息抄送服务

#### 抄送类型

| **抄送类型**                   | **类型说明**                                                 |
| :----------------------------- | :----------------------------------------------------------- |
| 会话类型抄送                   | 会话类型的消息，目前包括单聊消息，群聊消息，群组操作，好友操作 |
| 登录事件抄送                   | 用户登录事件的消息                                           |
| 登出事件抄送                   | 用户登出事件的消息                                           |
| 聊天室消息抄送                 | 聊天室中聊天的消息                                           |
| 实时音视频/白板通话消息抄送    | 汇报实时音视频通话时长、白板事件时长的消息                   |
| 音视频/白板文件存储信息抄送    | 表示音视频/白板存储文件的大小、下载地址等消息                |
| 单聊消息撤回抄送               | 表示单聊消息撤回抄送                                         |
| 群聊消息撤回抄送               | 表示群聊消息撤回抄送                                         |
| 主播或管理员进出聊天室事件抄送 | 汇报主播或管理员进出聊天室事件消息                           |
| 专线电话通话结束回调抄送       | 汇报专线电话通话结束回调抄送的消息                           |
| 短信回执抄送                   | 汇报短信回执抄送的消息                                       |
| 短信上行抄送                   | 汇报短信上行消息                                             |



### 第三方消息回调功能（应该说是第三方切入功能，实现第三方消息过滤屏蔽）





### 多端登录与互踢策略





### 后台监测

#### 用户信息查询:

查询方式：

| 参数  | 说明                                                        |
| ----- | ----------------------------------------------------------- |
| 应用  | 在应用列表中根据应用名称选择                                |
| ACCID | 输入用户账号。调用云信API更新用户名片时所指定的用户唯一标识 |

点击查询按钮，即可查询该用户对应的相关信息，包括：

| 参数     | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| 用户昵称 | 用户名片中的name字段                                         |
| 用户头像 | 用户名片中的icon字段                                         |
| 是否禁用 | 表明用户是否被封禁，被封禁的用户不能再次登录                 |
| 是否禁言 | 表明用户是否被全局禁言，被全局禁言的用户不能发送“点对点”、“群”、“聊天室”消息 |
| 创建时间 | 用户名片的创建时间                                           |
| 更新时间 | 用户名片的更新时间                                           |



#### 在线状态查询

查询方式：

| 参数  | 说明                                                        |
| ----- | ----------------------------------------------------------- |
| 应用  | 在应用列表中根据应用名称选择                                |
| ACCID | 输入用户账号。调用云信API更新用户名片时所指定的用户唯一标识 |

点击查询按钮，即可查询该用户对应的相关信息，包括：

| 参数     | 说明                                                        |
| -------- | ----------------------------------------------------------- |
| 用户昵称 | 用户名片中的name字段                                        |
| 用户状态 | 用户当前的在线状态，分在线和离线                            |
| 设备类型 | 在线设备的类型，分桌面端（PC、Web）和移动端（iOS、Android） |
| 登录时间 | 最近一次登录的登录时间                                      |
| 设备ID   | 该设备在云信的设备标识符                                    |
| 推送信息 | 包含推送TokenName和PushToken，标识推送证书信息              |
| 网络信息 | 设备当前所处网络环境和客户端IP信息                          |
| 是否后台 | 标识该应用目前是否处于后台运行                              |



#### 历史消息查询：

查询方式：

| 参数        | 说明                                                         |
| ----------- | ------------------------------------------------------------ |
| 应用        | 在应用列表中根据应用名称选择                                 |
| 消息类型    | 选择P2P消息、群消息或聊天室消息                              |
| 发送方ACCID | 输入用户账号。调用云信API更新用户名片时所指定的用户唯一标识  |
| 接收方ID    | 单聊消息即接收方ACCID群聊消息为群组TID聊天室消息为聊天室ROOMID |
| 查询时段    | 查询时间范围                                                 |
| 筛选选项    | 支持选择消息列表排列顺序、选择展示的最大消息数、选择需要排除的ID信息等 |
| 查找选项    | 支持关键字查找。可匹配发送方ACCID、接收方ACCID、消息内容字段 |

点击查询按钮，即可查询对应的相关消息列表，每条消息包含：

| 参数         | 说明                                                         |
| ------------ | ------------------------------------------------------------ |
| 发送方ID     | 发送方ACCID                                                  |
| 接收方ID     | 单聊消息即接收方ACCID群聊消息为群组TID聊天室消息为聊天室ROOMID |
| 消息时间     | 历史消息在服务器上记录的时间                                 |
| 消息类型     | P2P消息、群消息或聊天室消息                                  |
| 客户端消息ID | 发送方客户端对应的消息ID                                     |
| 服务端消息ID | 服务器对应的消息ID                                           |
| 消息内容     | 消息体内容                                                   |
| 消息详情     | 消息体包含所有的字段信息                                     |

#### 聊天室信息查询

| 参数   | 说明                                         |
| ------ | -------------------------------------------- |
| 应用   | 在应用列表中根据应用名称选择                 |
| ROOMID | 创建聊天室时生成，聊天室在网易云信的唯一标识 |

点击查询按钮，即可查询该用户对应的相关信息，包括：

| 参数         | 说明                               |
| ------------ | ---------------------------------- |
| 聊天室名称   | 聊天室当前的名称                   |
| 开启状态     | 判断聊天室当前的开启/关闭状态      |
| 聊天室公告   | 聊天室公告信息                     |
| 整体禁言状态 | 判断聊天室是否当前处于整体禁言状态 |
| 直播URL      | 聊天室对应的直播流地址             |
| 在线设备总数 | 当前保持连接的设备总数             |
| 系统分布     | 当前保持连接的设备终端系统分布     |
| 扩展字段信息 | 聊天室扩展字段信息                 |
| 创建人       | 聊天室创建人的ACCID信息            |



#### 群组信息查询

| 参数 | 说明 |
| ---- | ------------------------------------------ |
| 应用 | 在应用列表中根据应用名称选择 |
| TID | 创建群组时生成，聊天室在网易云信的唯一标识 |

点击查询按钮，即可查询该用户对应的相关信息，包括：

| 参数        | 说明                                |
| ----------- | ----------------------------------- |
| 群组名称    | 群组当前的名称                      |
| 群类型      | 普通群/高级群                       |
| 创建人ACCID | 创建者的ACCID                       |
| 是否有效    | 判断群组是否处于有效状态            |
| 有效成员    | 当前群组的总成员数量                |
| 创建时间    | 建群时间                            |
| 更新时间    | 群资料最近更新时间                  |
| 群公告      | 群组公告                            |
| 扩展字段    | 开发者填入的群组扩展字段            |
| 头像        | 群头像URL                           |
| 进群模式    | 需要验证/不需要验证                 |
| 邀请方式    | 需要被邀请人同意/不需要被邀请人同意 |
| 权限信息    | 邀请入群权限信息修改群资料权限信息  |



#### IM日志拉取

拉取方式：

| 参数  | 说明                                                        |
| ----- | ----------------------------------------------------------- |
| 应用  | 在应用列表中根据应用名称选择                                |
| ACCID | 输入用户账号。调用云信API更新用户名片时所指定的用户唯一标识 |





## 环信云

http://docs-im.easemob.com/im/pc/basics/message





## 腾讯云

https://cloud.tencent.com/document/product/269/44498